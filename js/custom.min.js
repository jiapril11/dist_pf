var $banner,$prev,$next,isAnimate_BI,cookieData_arr,$cookieBox,$clxBox,$headerr,scrollTop,$skipNav,$header,$gnbLi_1depth,$h1,$util,header_ht,gnbBg_color,speed,max,doneSub,$allMenu,$rwdGnb,$allMenu_clx,cookieClass,$wrap,$btn,$slide,URL,key,playlistId,options,isAnimated,$slideBanner_ul,$slideBanner_next,$slideBanner_prev,version;function initDOM_brand(e){$wrap=$(e),$banner=$wrap.find(".banner"),$prev=$wrap.find(".prev"),$next=$wrap.find(".next"),speed=500,isAnimate_BI=!0}function init_brand(){responsive_brand(),$(window).on("resize",responsive_brand),$banner.children("li").last().prependTo($banner)}function responsive_brand(){var e=$(this).width();e>=1180&&resizing_brand(3),e>=640&&e<1180&&resizing_brand(2),e<640&&resizing_brand(1)}function resizing_brand(e){$banner.css({marginLeft:-100/e+"%"}),$prev.off(),$next.off(),$prev.on("click",(function(n){n.preventDefault(),isAnimate_BI&&(isAnimate_BI=!1,$banner.animate({marginLeft:"0"},speed,(function(){$(this).children("li").last().prependTo(this),$(this).css({marginLeft:-100/e+"%"}),setTimeout((function(){isAnimate_BI=!0}),speed)})))})),$next.on("click",(function(n){n.preventDefault(),isAnimate_BI&&(isAnimate_BI=!1,$banner.animate({marginLeft:-100/e*2+"%"},speed,(function(){$(this).children("li").first().appendTo(this),$(this).css({marginLeft:-100/e+"%"}),setTimeout((function(){isAnimate_BI=!0}),speed)})))}))}function chgFlex(){$(".oldIE #brand .inner .wrap > article:nth-of-type(3) ul li > div").css({display:"block"}),$(".oldIE #brand .inner .wrap > article:nth-of-type(3) ul li > div .txt").css({width:"90%",position:"absolute",left:"5%",bottom:"5%"})}function addNotice(){$(".oldIE #slideBanner h1").append($("<h2>").text("Sorry, IE does not support Youtube, recommend you to use Chrome browser. Thanks!").css({fontSize:"14px",color:"#777",marginTop:"20px"}))}function createList(){for(var e=0;e<14;e++)$(".oldIE #slideBanner .slideBanner_wrap > ul").append($("<li>").attr("data-index",e))}function initDOM_cookie(){cookieData_arr=document.cookie,$cookieBox=$("#cookie"),$clxBox=$cookieBox.find(".clx_ck"),$header=$("#header"),$visual=$("#visual"),scrollTop=$(window).scrollTop(),window_wid=$("body").width()}function init_cookie(){cookieData_arr.indexOf("today=done")<0&&scrollTop<60?($cookieBox.show().addClass("on"),$header.css({top:60})):cookieData_arr.indexOf("today=done")<0&&scrollTop>60?($cookieBox.show().addClass("on"),$header.css({top:0})):cookieData_arr.indexOf("today=done")>=0&&window_wid<1179?($visual.animate({martinTop:"60px"}),$header.css({top:0})):($cookieBox.hide().removeClass("on"),$header.css({top:0}))}function eventBinding_cookie(){$clxBox.on("click",(function(){$("#no_ck").is(":checked")&&$.cookie("today","done",{expires:1,path:"/"}),$cookieBox.stop().animate({top:-60},500).removeClass("on"),$header.stop().animate({top:0},500),window_wid<1179&&$visual.stop().css({marginTop:"60px"})}))}function setCookie(e,n,i){var o=new Date,t=o.getDate()+i;o.setDate(t);var a=o.toGMTString();document.cookie=e+"="+n+"; path=/; expires="+a+";"}function initDOM_header(){$skipNav=$("#skipNav a"),$header=$("#header"),$gnbLi_1depth=$("#gnb>li"),$h1=$header.find("h1>a"),$util=$header.find("#util"),header_ht=$header.height(),gnbBg_color=$header.css("backgroundColor"),speed=500,max=0,doneSub=!0,$allMenu=$(".allMenu"),$rwdGnb=$("#rwdGnb"),$allMenu_clx=$rwdGnb.children(".clx"),cookieClass=$("#cookie").hasClass("on")}function cookieChk_header(){1==cookieClass&&$header.css({position:"fixed",top:"60px",left:0}),0==cookieClass&&$header.css({position:"fixed",top:"0px",left:0})}function resize_header(){$(window).on("resize",gnb_rwd)}function scroll_header(){$(window).on("scroll",(function(){var e=$(window).scrollTop();cookieClass=$("#cookie").hasClass("on"),e<=60&&1==cookieClass&&($header.css({position:"fixed",top:"60px",left:0,zIndex:9,background:"rgba(255, 255, 255, 1)"}),$(".gnbBg").css({background:"rgba(255, 255, 255, 1)"})),e>60&&1==cookieClass&&($header.css({position:"fixed",top:"0px",left:0,zIndex:9,background:"rgba(255, 255, 255, 0.9)"}),$(".gnbBg").css({background:"rgba(255, 255, 255, 0.9)"})),e<60&&0==cookieClass&&($header.css({position:"fixed",top:"0",left:0,zIndex:9,background:"rgba(255, 255, 255, 1)"}),$(".gnbBg").css({background:"rgba(255, 255, 255, 1)"})),e>60&&0==cookieClass&&($header.css({position:"fixed",top:"0px",left:0,zIndex:9,background:"rgba(255, 255, 255, 0.9)"}),$(".gnbBg").css({background:"rgba(255, 255, 255, 0.9)"}))}))}function mouseEvent_header(){$gnbLi_1depth.on("mouseenter",(function(){$(this).children("a").addClass("on")})),$gnbLi_1depth.on("mouseleave",(function(){$(this).children("a").removeClass("on")}))}function focusEvent_header(){$gnbLi_1depth.children("a").on("focusin",(function(){gnbDown(speed/2)})),$gnbLi_1depth.last().children("ul").children("li").last().children("a").on("focusout",(function(){gnbUp(speed)}))}function skipNav_header(){$skipNav.on("focusin",(function(){$(this).addClass("on")})),$skipNav.on("focusout",(function(){$(this).removeClass("on")}))}function getHeight(){$gnbLi_1depth.each((function(){var e=$(this).children("ul").height();max=Math.max(e,max)}))}function setUlHeight(){$gnbLi_1depth.children("ul").height(max),$(".gnbBg").css({height:max+80})}function gnbDown(e){gnbBg_color=$header.css("backgroundColor"),$(".gnbBg").length||$header.prepend($('<div class="gnbBg">').css({width:"100%",height:max+80,position:"absolute",top:header_ht,left:0,borderTop:"1px solid rgba(0, 0, 0, 0.05)",boxSizing:"border-box",background:gnbBg_color,zIndex:1,display:"none",boxShadow:"5px 5px 10px rgba(0,0,0,0.1)"})),doneSub&&(doneSub=!1,$gnbLi_1depth.children("ul").stop().slideDown(e),$(".gnbBg").stop().slideDown(e))}function gnbUp(e){$gnbLi_1depth.children("ul").stop().slideUp(e),$(".gnbBg").stop().slideUp(e,(function(){$(this).remove(),doneSub=!0}))}function gnb_rwd(){$(window).width()>1179?($rwdGnb.hide(),getHeight(),setUlHeight(),$header.on("mouseenter",(function(){gnbDown(speed/2)})),$header.on("mouseleave",(function(){gnbUp(speed/2)}))):($header.off(),$h1.off(),$util.off())}function rwdMenu(){$allMenu.on("click",(function(e){e.preventDefault(),$rwdGnb.fadeIn(300,(function(){$("body").css({overflowY:"hidden"})})).bind("touchmove",(function(e){e.preventDefault()}))})),$allMenu_clx.on("click",(function(e){e.preventDefault(),$rwdGnb.fadeOut(300),$("body").css({overflowY:"auto"}).unbind("touchmove")}))}function initDOM_intro(e){$wrap=$(e),$btn=$wrap.find(".btn>li"),$slide=$wrap.find(".slide")}function eventBinding_intro(){$btn.on("click",(function(e){e.preventDefault();var n=$(this).index();$btn.removeClass("on"),$(this).addClass("on"),$slide.stop().animate({marginLeft:-100*n+"%"},500),$slide.find("li").removeClass("on"),$slide.find("li").eq(n).addClass("on")}))}function initDOM_slideBanner(){URL="https://www.googleapis.com/youtube/v3/playlistItems",options={part:"snippet",key:key="AIzaSyBUi4NF7udfrufp7iJ5qgCxCES8XOLok7I",maxResults:14,playlistId:playlistId="PLfwNfduH1_mBzCB0d8hL23Ni0iwTxyKVm"},isAnimated=!0,$slideBanner_ul=$("#slideBanner .slideBanner_wrap ul"),$slideBanner_next=$("#slideBanner .next"),$slideBanner_prev=$("#slideBanner .prev"),version=navigator.userAgent}function eventBinding_slideBanner(){$(window).on("resize",slideBanner_rwd),$("body").on("click","#slideBanner li",(function(){create_popUp($(this).attr("data-vid"))})),$("body").on("click",".pop .close",(function(){remove_popUp()}))}function slideBanner_rwd(){var e=$(this).width();e>1179&&slideBanner_moving(10,500),e<=1179&&e>539&&slideBanner_moving(6,500),e<=539&&slideBanner_moving(3,500)}function slideBanner_moving(e,n){$slideBanner_ul.css({marginLeft:-100/e+"%"}),$slideBanner_next.off(),$slideBanner_prev.off(),$slideBanner_next.on("click",(function(i){i.preventDefault(),isAnimated&&(isAnimated=!1,$slideBanner_ul.stop().animate({marginLeft:-100/e*2+"%"},n,(function(){$(this).children("li").first().appendTo(this),$(this).css({marginLeft:-100/e+"%"}),isAnimated=!0})))})),$slideBanner_prev.on("click",(function(i){i.preventDefault(),isAnimated&&(isAnimated=!1,$slideBanner_ul.stop().animate({marginLeft:"0%"},n,(function(){$(this).children("li").last().prependTo(this),$(this).css({marginLeft:-100/e+"%"}),isAnimated=!0})))}))}function loadData_slideBanner(){$.ajax({url:URL,dataType:"jsonp",data:options}).success((function(e){createList_slideBanner(e)})).error((function(){console.log("failed")}))}function createList_slideBanner(e){$(e.items).each((function(e,n){var i=n.snippet.thumbnails.medium.url,o=n.snippet.resourceId.videoId,t=n.snippet.title;t=t.replace("(playlist)",""),$("#slideBanner .slideBanner_wrap > ul").append($("<li>").attr("data-vid",o).css({backgroundImage:"url("+i}).append($("<p>").text(t)))}))}function create_popUp(e){$("body").append($('<aside class="pop">').css({width:"28vmax",height:"40vh",padding:"40px 30px",boxSizing:"border-box",position:"fixed",bottom:100,left:0,zIndex:9,backgroundColor:"rgba(0,0,0,0.7)"}).append($("<iframe>").attr({width:"100%",height:"100%",src:"https://www.youtube.com/embed/"+e,frameborder:0,allowfullscreen:!0}),$('<span class="close">').text("close").css({fontFamily:"Playfair Display",fontSize:"14px",color:"#fff",position:"absolute",top:10,right:20,cursor:"pointer"})))}function remove_popUp(){$(".pop").remove()}$(document).ready((function(){initDOM_brand("#brand"),init_brand()})),$(document).ready((function(){var e=navigator.userAgent;/trident/i.test(e)&&($("body").addClass("oldIE"),chgFlex(),addNotice(),createList())})),$(document).ready((function(){initDOM_cookie(),init_cookie(),eventBinding_cookie()})),$(document).ready((function(){initDOM_header(),cookieChk_header(),gnb_rwd(),resize_header(),scroll_header(),mouseEvent_header(),focusEvent_header(),skipNav_header(),rwdMenu()})),$(document).ready((function(){initDOM_intro("#intro"),eventBinding_intro()})),$(document).ready((function(){$(window).on("load",(function(){console.log("loading done"),$("#loading_bg").animate({opacity:0},1e3,(function(){$(this).remove()}))}))})),$(document).ready((function(){var e=$("#scrollNav"),n=0,i=$("#intro").offset().top,o=$("#main_content").offset().top,t=$("#brand").offset().top,a=$("#news").offset().top,s=$("#slideBanner").offset().top,d=[n,i,o,t,a,s];!function(){for(var n=0;n<d.length;n++)e.append("<li><a href='#'></a></li>");e.children("li").first().children("a").addClass("on")}();var r,l,c=$("#scrollNav>li"),p=$("#scrollNav>li>a"),u=$("#top");$(window).on("resize",(function(){n=0,i=$("#intro").offset().top,o=$("#main_content").offset().top,t=$("#brand").offset().top,a=$("#news").offset().top,s=$("#slideBanner").offset().top,d=[],d=[n,i,o,t,a,s],(r<s-300||l>1179)&&u.hide(),r>=s-300&&l<1180&&u.fadeIn(500)})),$(window).on("scroll",(function(){r=$(window).scrollTop(),l=$("body").outerWidth(),r>=n-300&&r<i-300&&(p.removeClass("on"),c.eq(0).children("a").addClass("on")),r>=i-300&&r<o-300&&(p.removeClass("on"),c.eq(1).children("a").addClass("on")),r>=o-300&&r<t-300&&(p.removeClass("on"),c.eq(2).children("a").addClass("on"),$("#main_content article").addClass("on")),r>=t-300&&r<a-300&&(p.removeClass("on"),c.eq(3).children("a").addClass("on")),r>=a-300&&r<s-300&&(p.removeClass("on"),c.eq(4).children("a").addClass("on")),r>=s-300&&(p.removeClass("on"),c.eq(5).children("a").addClass("on")),(r<s-300||l>1179)&&u.hide(),r>=s-300&&l<1180&&u.fadeIn(500)})),p.on("click",(function(e){e.preventDefault();var n=$(this).parents("li").index(),i=d[n];$("html, body").stop().animate({scrollTop:i})})),u.on("click",(function(){$("html, body").stop().animate({scrollTop:0},500)}))})),$(document).ready((function(){initDOM_slideBanner(),/trident/i.test(version)||(slideBanner_rwd(),loadData_slideBanner(),$slideBanner_ul.children("li").last().prependTo($slideBanner_ul),eventBinding_slideBanner())})),$(document).ready((function(){eventBinding_visual()}));var toggleChk=!0;function eventBinding_visual(){$(".toggle").on("click",(function(){var e=$(window).width(),n=$(this).parent("article").index(),i=$(this);toggleChk&&e>1179?activeMotion_visual(i,n):inactiveMotion_visual()}))}function activeMotion_visual(e,n){$("article").removeClass("on"),$(".toggle").removeClass("on"),$(e).parent("article").addClass("on"),$(e).addClass("on"),setTimeout((function(){$("article").eq(n).children(".txt").fadeIn(500),toggleChk=!1}),500)}function inactiveMotion_visual(){$("article").removeClass("on"),$("article").children(".txt").hide(),setTimeout((function(){$(".toggle").removeClass("on"),toggleChk=!0}),500)}